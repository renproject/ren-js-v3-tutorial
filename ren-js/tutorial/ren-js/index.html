<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/ren-client-docs/blog/rss.xml" title="Ren Client Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/ren-client-docs/blog/atom.xml" title="Ren Client Docs Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Ren Client Docs" href="/ren-client-docs/opensearch.xml"><title data-react-helmet="true">3. RenJS | Ren Client Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://renproject.github.io/ren-client-docs/ren-client-docs/ren-js/tutorial/ren-js"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-ren-js-current"><meta data-react-helmet="true" property="og:title" content="3. RenJS | Ren Client Docs"><meta data-react-helmet="true" name="description" content="RenJS allows developers to hook in to RenVM&#x27;s growing network of bridged chains and assets. It&#x27;s the official JavaScript SDK for interacting with RenVM and for bridging assets."><meta data-react-helmet="true" property="og:description" content="RenJS allows developers to hook in to RenVM&#x27;s growing network of bridged chains and assets. It&#x27;s the official JavaScript SDK for interacting with RenVM and for bridging assets."><link data-react-helmet="true" rel="icon" href="/ren-client-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://renproject.github.io/ren-client-docs/ren-client-docs/ren-js/tutorial/ren-js"><link data-react-helmet="true" rel="alternate" href="https://renproject.github.io/ren-client-docs/ren-client-docs/ren-js/tutorial/ren-js" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://renproject.github.io/ren-client-docs/ren-client-docs/ren-js/tutorial/ren-js" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://KG38F1M5FV-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/ren-client-docs/assets/css/styles.1cfb6b6d.css">
<link rel="preload" href="/ren-client-docs/assets/js/runtime~main.7076c633.js" as="script">
<link rel="preload" href="/ren-client-docs/assets/js/main.26a0c57c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ren-client-docs/"><div class="navbar__logo"><img src="/ren-client-docs/img/logo.svg" alt="Ren logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/ren-client-docs/img/logo.svg" alt="Ren logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Ren Client Docs</b></a><a class="navbar__item navbar__link" href="/ren-client-docs/general/">General</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ren-client-docs/ren-js/">RenJS</a><a class="navbar__item navbar__link" href="/ren-client-docs/contracts/">Contracts</a><a class="navbar__item navbar__link" href="/ren-client-docs/stats/">Stats APIs</a><a class="navbar__item navbar__link" href="/ren-client-docs/api/">JSON-RPC</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/renproject/ren-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>RenJS GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ren-client-docs/ren-js/">RenJS Docs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/ren-client-docs/ren-js/v3/quick-start">RenJS v3</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/changelog">Changelog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/ren-client-docs/ren-js/v3/tutorial">Tutorial</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/tutorial">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/tutorial/smart-contract">1. Smart Contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/tutorial/react-setup">2. React Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/tutorial/chain-transactions">3. Chain Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/tutorial/gateway-transactions">4. Gateway Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/tutorial/gateways">5. Gateways</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/tutorial/app">6. App</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/ren-client-docs/ren-js/v3/reference/classes">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/reference/classes">Classes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/reference/fees">Fees</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/reference/setupTxs">Setup Transactions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/ren-client-docs/ren-js/v3/reference/chains/chain-interface">Chains</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/reference/chains/chain-interface">Chain Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/reference/chains/bitcoin">Bitcoin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/reference/chains/ethereum">Ethereum</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/v3/reference/chains/solana">Solana</a></li></ul></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/ren-client-docs/ren-js/quick-start">RenJS v2</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/ren-js-v3">RenJS v3</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/ren-client-docs/ren-js/tutorial/overview">Tutorial</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/tutorial/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/tutorial/smart-contract">1. Smart Contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/tutorial/react-ui">2. React UI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ren-client-docs/ren-js/tutorial/ren-js">3. RenJS</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/things-to-note">Things to note</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/ren-client-docs/ren-js/how-to/resuming-transfers">How Tos</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/how-to/resuming-transfers">Resuming transfers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/how-to/chain-utils">Chain Utils</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/how-to/handling-address-expiry">Handling address expiry and uniqueness</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/how-to/add-parameters-at-mint">Add parameters at mint</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/how-to/recovery-method">Recovery method</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/ren-client-docs/ren-js/best-practices/ui-best-practices">Best Practices</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/best-practices/ui-best-practices">RenVM UX Best Practice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/best-practices/support">RenVM Support Tutorial &amp; Template</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/brand-hub">Ren Brand Hub</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ren-client-docs/ren-js/forking-ren-bridge">Forking RenBridge</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>3. RenJS</h1></header><span style="border:2px solid #b48ead;border-radius:5px;color:#b48ead;padding:0.1rem 0.4rem;margin-bottom:30px;display:inline-block">Tutorial</span><p>RenJS allows developers to hook in to RenVM&#x27;s growing network of bridged chains and assets. It&#x27;s the official JavaScript SDK for interacting with RenVM and for bridging assets.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="installing-and-initializing-renjs">Installing and Initializing RenJS<a class="hash-link" href="#installing-and-initializing-renjs" title="Direct link to heading">â€‹</a></h3><p>There are two packages that need to be installed:</p><ul><li><code>@renproject/ren</code> implements the core logic for interacting with RenVM</li><li><code>@renproject/chains</code> provides support for various assets and chains. These can also be imported separately - e.g. using <code>@renproject/chains-ethereum</code> for Ethereum.</li></ul><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">npm</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">yarn</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="background-color:#2e3440;color:#d7dde8"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#d7dde8"><span class="token function" style="color:#bf616a">npm</span><span class="token plain"> </span><span class="token function" style="color:#bf616a">install</span><span class="token plain"> --save @renproject/ren@v2 @renproject/chains@v2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="background-color:#2e3440;color:#d7dde8"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#d7dde8"><span class="token function" style="color:#bf616a">yarn</span><span class="token plain"> </span><span class="token function" style="color:#bf616a">add</span><span class="token plain"> @renproject/ren@v2 @renproject/chains@v2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div><p>Import the packages at the top of <code>App.js</code>:</p><div class="codeBlockContainer_J+bg language-ts theme-code-block"><div style="background-color:#2e3440;color:#d7dde8" class="codeBlockTitle_oQzk">src/App.js</div><div class="codeBlockContent_csEI ts"><pre tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar" style="background-color:#2e3440;color:#d7dde8"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#d7dde8"><span class="token keyword module" style="color:#ebcb8b">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">RenJS</span><span class="token plain"> </span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;@renproject/ren&quot;</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword module" style="color:#ebcb8b">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#88c0d0">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Bitcoin</span><span class="token imports punctuation" style="color:#88c0d0">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Ethereum</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#88c0d0">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;@renproject/chains&quot;</span><span class="token punctuation" style="color:#88c0d0">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Initialize RenJS, adding it to your <code>App.js</code> state (line <code>17</code>) like so:</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="background-color:#2e3440;color:#d7dde8"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#d7dde8"><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">state</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token literal-property property" style="color:#b48ead">balance</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">0</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token literal-property property" style="color:#b48ead">message</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token literal-property property" style="color:#b48ead">renJS</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">new</span><span class="token plain"> </span><span class="token class-name" style="color:#bf616a">RenJS</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;testnet&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#b48ead">useV2TransactionFormat</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token boolean" style="color:#bf616a">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token literal-property property" style="color:#b48ead">error</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>We initialize it with the parameter <code>&quot;testnet&quot;</code> to connect to RenVM&#x27;s testnet. Omit this parameter when you are ready to integrate on mainnet.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="bridging-btc-onto-ethereum">Bridging BTC onto Ethereum<a class="hash-link" href="#bridging-btc-onto-ethereum" title="Direct link to heading">â€‹</a></h3><p>There&#x27;s two steps involves in creating new renBTC tokens on Ethereum - 1) <em>locking</em> BTC and 2) <em>minting</em> renBTC. The method on RenJS to initiate this process is <code>lockAndMint</code>.</p><p>Here&#x27;s what it looks like to set-up a lockAndMint to a user&#x27;s address on Ethereum:</p><div class="codeBlockContainer_J+bg language-ts theme-code-block"><div style="background-color:#2e3440;color:#d7dde8" class="codeBlockTitle_oQzk">Example</div><div class="codeBlockContent_csEI ts"><pre tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar" style="background-color:#2e3440;color:#d7dde8"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#d7dde8"><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> web3</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> renJS </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> mint </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> renJS</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">lockAndMint</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    asset</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;BTC&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#bf616a">Bitcoin</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    to</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#bf616a">Ethereum</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">web3</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">currentProvider</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access maybe-class-name" style="color:#bf616a">Address</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;0x1234...&quot;</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>For our example, we want to send BTC to a smart contract, not just a user&#x27;s address. To do this, we specify the details needed to call the smart contract. Add this to the body of <code>deposit</code>:</p><div class="codeBlockContainer_J+bg language-ts theme-code-block"><div style="background-color:#2e3440;color:#d7dde8" class="codeBlockTitle_oQzk">src/App.js - deposit</div><div class="codeBlockContent_csEI ts"><pre tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar" style="background-color:#2e3440;color:#d7dde8"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#d7dde8"><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> web3</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> renJS </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Generating deposit address...</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> amount </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">0.003</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"> </span><span class="token comment" style="color:#6b7282">// BTC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> mint </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> renJS</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">lockAndMint</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token comment" style="color:#6b7282">// Send BTC from the Bitcoin blockchain to the Ethereum blockchain.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    asset</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;BTC&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#bf616a">Bitcoin</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    to</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#bf616a">Ethereum</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">web3</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">currentProvider</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access maybe-class-name" style="color:#bf616a">Contract</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token comment" style="color:#6b7282">// The contract we want to interact with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        sendTo</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> contractAddress</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token comment" style="color:#6b7282">// The name of the function we want to call</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        contractFn</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;deposit&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token comment" style="color:#6b7282">// Arguments expected for calling `deposit`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        contractParams</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                name</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;_msg&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                type</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;bytes&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                value</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Depositing </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">amount</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> BTC</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">]</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Each LockAndMint object has a unique <em>gateway address</em>, generated from the details we provided to it. We want to show the gateway address to the user and then wait for them to send BTC to this address. Add the following log:</p><div class="codeBlockContainer_J+bg language-ts theme-code-block"><div style="background-color:#2e3440;color:#d7dde8" class="codeBlockTitle_oQzk">src/App.js - deposit (continued)</div><div class="codeBlockContent_csEI ts"><pre tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar" style="background-color:#2e3440;color:#d7dde8"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#d7dde8"><span class="token comment" style="color:#6b7282">// Show the gateway address to the user so that they can transfer their BTC to it.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Deposit </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">amount</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> BTC to </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">mint</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">.</span><span class="token template-string interpolation property-access">gatewayAddress</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>To handle deposits received at the gateway address, the mint object emits <code>&quot;deposit&quot;</code> events that can be listened to using <code>mint.on(&quot;deposit&quot;, ...)</code>. After detecting a deposit, there&#x27;s three steps for completing the asset bridging:</p><ol><li>waiting for the deposit to be confirmed,</li><li>submitting the deposit to RenVM and wait for a signature, and</li><li>submitting to the mint-chain - in our example this is Ethereum.</li></ol><p>We perform these steps inside the <code>&quot;deposit&quot;</code> event callback:</p><div class="codeBlockContainer_J+bg language-ts theme-code-block"><div style="background-color:#2e3440;color:#d7dde8" class="codeBlockTitle_oQzk">src/App.js - deposit (continued)</div><div class="codeBlockContent_csEI ts"><pre tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar" style="background-color:#2e3440;color:#d7dde8"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#d7dde8"><span class="token plain">mint</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;deposit&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">deposit</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token comment" style="color:#6b7282">// Details of the deposit are available from `deposit.depositDetails`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> hash </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> deposit</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">txHash</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#bf616a">depositLog</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">BTC deposit: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation maybe-class-name">Bitcoin</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">.</span><span class="token template-string interpolation property-access">utils</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">.</span><span class="token template-string interpolation method function property-access" style="color:#bf616a">transactionExplorerLink</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">(</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token template-string interpolation">                deposit</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">.</span><span class="token template-string interpolation property-access">depositDetails</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">.</span><span class="token template-string interpolation property-access">transaction</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">,</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token template-string interpolation">                </span><span class="token template-string interpolation string" style="color:#88c0d0">&quot;testnet&quot;</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token template-string interpolation">            </span><span class="token template-string interpolation punctuation" style="color:#88c0d0">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">\n</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token template-string string" style="color:#88c0d0">      RenVM Hash: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">hash</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">\n</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token template-string string" style="color:#88c0d0">      Status: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">deposit</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">.</span><span class="token template-string interpolation property-access">status</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">\n</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token template-string string" style="color:#88c0d0">      </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">msg</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> deposit</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">confirmed</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;target&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#bf616a">depositLog</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">0/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">target</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> confirmations</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;confirmation&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">confs</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> target</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token function" style="color:#bf616a">depositLog</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">confs</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">target</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> confirmations</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> deposit</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">signed</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token comment" style="color:#6b7282">// Print RenVM status - &quot;pending&quot;, &quot;confirming&quot; or &quot;done&quot;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;status&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#bf616a">depositLog</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Status: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">status</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> deposit</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">mint</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token comment" style="color:#6b7282">// Print Ethereum transaction hash.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;transactionHash&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">txHash</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Ethereum transaction: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation known-class-name class-name" style="color:#bf616a">String</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">(</span><span class="token template-string interpolation">txHash</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">\nSubmitting...</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Deposited </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">amount</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> BTC.</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><code>deposit.status</code> returns the current progress of the deposit, and will be one of <code>&quot;detected&quot;</code>, <code>&quot;confirmed&quot;</code>, <code>&quot;signed&quot;</code>, <code>&quot;submitted&quot;</code> or <code>&quot;reverted&quot;</code>. (See <a href="https://renproject.github.io/ren-js-docs/enums/depositstatus.html" target="_blank" rel="noopener noreferrer">DepositStatus docs</a>)</p><p>In addition to receiving <code>.on(&quot;deposit&quot;, ...)</code> events, you can also manually provide the details of a deposit using <code>mint.processDeposit</code>. The parameter should match the type of <code>deposit.depositDetails</code> of a deposit object returned <code>from.on(&quot;deposit&quot;, ...)</code>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="bridging-btc-back-from-ethereum">Bridging BTC back from Ethereum<a class="hash-link" href="#bridging-btc-back-from-ethereum" title="Direct link to heading">â€‹</a></h3><p>In order to return the BTC back from Ethereum, the renBTC must be burned, and a recipient BTC address nominated. RenVM will automatically see and process the burn, releasing the BTC to the recipient.
RenJS can be used to:</p><ol><li>initiate a burn by providing it the details to burn the renBTC, or</li><li>monitor an existing burn by providing it with the transaction hash or identifier of the burn.</li></ol><p>Initiating a burn looks like the following:</p><div class="codeBlockContainer_J+bg language-ts theme-code-block"><div style="background-color:#2e3440;color:#d7dde8" class="codeBlockTitle_oQzk">src/App.js - withdraw</div><div class="codeBlockContent_csEI ts"><pre tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar" style="background-color:#2e3440;color:#d7dde8"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#d7dde8"><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> web3</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> renJS</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> balance </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> recipient </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token function" style="color:#bf616a">prompt</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;Enter BTC recipient:&quot;</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> amount </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> balance</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> burnAndRelease </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> renJS</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">burnAndRelease</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token comment" style="color:#6b7282">// Send BTC from Ethereum back to the Bitcoin blockchain.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    asset</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;BTC&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    to</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#bf616a">Bitcoin</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access maybe-class-name" style="color:#bf616a">Address</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">recipient</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#bf616a">Ethereum</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">web3</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">currentProvider</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access maybe-class-name" style="color:#bf616a">Contract</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">btcAddress</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        sendTo</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> contractAddress</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        contractFn</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;withdraw&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        contractParams</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                type</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;bytes&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                name</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;_msg&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                value</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Withdrawing </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">amount</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> BTC</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                type</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;bytes&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                name</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;_to&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                value</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> btcAddress</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                type</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;uint256&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                name</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;_amount&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                value</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token maybe-class-name">RenJS</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">utils</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">toSmallestUnit</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">amount</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">8</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">]</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword" style="color:#ebcb8b">let</span><span class="token plain"> confirmations </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">0</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> burnAndRelease</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">burn</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token comment" style="color:#6b7282">// Ethereum transaction confirmations.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;confirmation&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">confs</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        confirmations </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> confs</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token comment" style="color:#6b7282">// Print Ethereum transaction hash.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;transactionHash&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">txHash</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">txHash: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation known-class-name class-name" style="color:#bf616a">String</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">(</span><span class="token template-string interpolation">txHash</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> burnAndRelease</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">release</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token comment" style="color:#6b7282">// Print RenVM status - &quot;pending&quot;, &quot;confirming&quot; or &quot;done&quot;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;status&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        status </span><span class="token operator" style="color:#bf616a">===</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;confirming&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token operator" style="color:#bf616a">?</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">status</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> (</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">confirmations</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">/15)</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token comment" style="color:#6b7282">// Print RenVM transaction hash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;txHash&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">log</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Withdrew </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">amount</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> BTC to </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">recipient</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">.</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="complete-appjs">Complete App.js<a class="hash-link" href="#complete-appjs" title="Direct link to heading">â€‹</a></h3><p>Your <code>App.js</code> file should now look like this (don&#x27;t forget to replace the contract address):</p><div class="codeBlockContainer_J+bg language-ts theme-code-block"><div style="background-color:#2e3440;color:#d7dde8" class="codeBlockTitle_oQzk">src/App.js</div><div class="codeBlockContent_csEI ts"><pre tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar" style="background-color:#2e3440;color:#d7dde8"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#d7dde8"><span class="token keyword module" style="color:#ebcb8b">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;react&quot;</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword module" style="color:#ebcb8b">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">RenJS</span><span class="token plain"> </span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;@renproject/ren&quot;</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword module" style="color:#ebcb8b">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#88c0d0">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Bitcoin</span><span class="token imports punctuation" style="color:#88c0d0">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Ethereum</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#88c0d0">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;@renproject/chains&quot;</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword module" style="color:#ebcb8b">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Web3</span><span class="token plain"> </span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;web3&quot;</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword module" style="color:#ebcb8b">import</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;./App.css&quot;</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword module" style="color:#ebcb8b">import</span><span class="token plain"> </span><span class="token constant" style="color:#b48ead">ABI</span><span class="token plain"> </span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;./ABI.json&quot;</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token comment" style="color:#6b7282">// Replace with your contract&#x27;s address.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> contractAddress </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;0x3Aa969d343BD6AE66c4027Bb61A382DC96e88150&quot;</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword" style="color:#ebcb8b">class</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#bf616a">App</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">extends</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#bf616a">React</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access maybe-class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token function" style="color:#bf616a">constructor</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">super</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">state</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            balance</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">0</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            message</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            error</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            renJS</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#bf616a">RenJS</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;testnet&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> useV2TransactionFormat</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token boolean" style="color:#bf616a">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token function-variable function" style="color:#bf616a">componentDidMount</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">let</span><span class="token plain"> web3Provider</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token comment" style="color:#6b7282">// Initialize web3 (https://medium.com/coinmonks/web3-js-ethereum-javascript-api-72f7b22e2f0a)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token comment" style="color:#6b7282">// Modern dApp browsers...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#ebcb8b">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token dom variable" style="color:#bf616a">window</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">ethereum</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            web3Provider </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#bf616a">window</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">ethereum</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#ebcb8b">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token comment" style="color:#6b7282">// Request account access</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> </span><span class="token dom variable" style="color:#bf616a">window</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">ethereum</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">enable</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ebcb8b">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token comment" style="color:#6b7282">// User denied account access...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">logError</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;Please allow access to your Web3 wallet.&quot;</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token keyword control-flow" style="color:#ebcb8b">return</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token comment" style="color:#6b7282">// Legacy dApp browsers...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#ebcb8b">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ebcb8b">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token dom variable" style="color:#bf616a">window</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">web3</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            web3Provider </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#bf616a">window</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">web3</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">currentProvider</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token comment" style="color:#6b7282">// If no injected web3 instance is detected, fall back to Ganache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#ebcb8b">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">logError</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;Please install MetaMask!&quot;</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#ebcb8b">return</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> web3 </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#bf616a">Web3</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">web3Provider</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> networkID </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> web3</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">eth</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">net</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">getId</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#ebcb8b">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">networkID </span><span class="token operator" style="color:#bf616a">!==</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">42</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">logError</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;Please set your network to Kovan.&quot;</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#ebcb8b">return</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">setState</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> web3 </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token comment" style="color:#6b7282">// Update balances immediately and every 10 seconds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">updateBalance</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token function" style="color:#bf616a">setInterval</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">updateBalance</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">10</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">*</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">1000</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token function-variable function" style="color:#bf616a">render</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> balance</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> error </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#ebcb8b">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#bf616a">=</span><span class="token string" style="color:#88c0d0">&quot;App&quot;</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token plain">p</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token maybe-class-name">Balance</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain">balance</span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"> </span><span class="token constant" style="color:#b48ead">BTC</span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token operator" style="color:#bf616a">/</span><span class="token plain">p</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token plain">p</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#bf616a">=</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">deposit</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token keyword control-flow" style="color:#ebcb8b">catch</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">logError</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        </span><span class="token maybe-class-name">Deposit</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">0.003</span><span class="token plain"> </span><span class="token constant" style="color:#b48ead">BTC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token operator" style="color:#bf616a">/</span><span class="token plain">button</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token operator" style="color:#bf616a">/</span><span class="token plain">p</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token plain">p</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token plain">button</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        onClick</span><span class="token operator" style="color:#bf616a">=</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">withdraw</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token keyword control-flow" style="color:#ebcb8b">catch</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">logError</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        </span><span class="token maybe-class-name">Withdraw</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain">balance</span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"> </span><span class="token constant" style="color:#b48ead">BTC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token operator" style="color:#bf616a">/</span><span class="token plain">button</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token operator" style="color:#bf616a">/</span><span class="token plain">p</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain">message</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">split</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;\n&quot;</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">map</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">line</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token plain">p</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain">line</span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token operator" style="color:#bf616a">/</span><span class="token plain">p</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain">error </span><span class="token operator" style="color:#bf616a">?</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token plain">p style</span><span class="token operator" style="color:#bf616a">=</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> color</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;red&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain">error</span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token operator" style="color:#bf616a">/</span><span class="token plain">p</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#ebcb8b">null</span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token operator" style="color:#bf616a">&lt;</span><span class="token operator" style="color:#bf616a">/</span><span class="token plain">div</span><span class="token operator" style="color:#bf616a">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token function-variable function" style="color:#bf616a">updateBalance</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> web3 </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> contract </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">new</span><span class="token plain"> </span><span class="token class-name" style="color:#bf616a">web3</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">eth</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access maybe-class-name" style="color:#bf616a">Contract</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token constant" style="color:#b48ead">ABI</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> contractAddress</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> balance </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> contract</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">methods</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">balance</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">call</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">setState</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> balance</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token function" style="color:#bf616a">parseInt</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">balance</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">toString</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">/</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">10</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">**</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">8</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token function-variable function" style="color:#bf616a">logError</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token console class-name" style="color:#bf616a">console</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">error</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">setState</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> error</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#bf616a">String</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">error </span><span class="token operator" style="color:#bf616a">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">||</span><span class="token plain"> error</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token function-variable function" style="color:#bf616a">log</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">setState</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> message </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token function-variable function" style="color:#bf616a">deposit</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">logError</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;&quot;</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"> </span><span class="token comment" style="color:#6b7282">// Reset error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> web3</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> renJS </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Generating deposit address...</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> amount </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">0.003</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"> </span><span class="token comment" style="color:#6b7282">// BTC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> mint </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> renJS</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">lockAndMint</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token comment" style="color:#6b7282">// Send BTC from the Bitcoin blockchain to the Ethereum blockchain.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            asset</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;BTC&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#bf616a">Bitcoin</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            to</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#bf616a">Ethereum</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">web3</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">currentProvider</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access maybe-class-name" style="color:#bf616a">Contract</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token comment" style="color:#6b7282">// The contract we want to interact with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                sendTo</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> contractAddress</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token comment" style="color:#6b7282">// The name of the function we want to call</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                contractFn</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;deposit&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token comment" style="color:#6b7282">// Arguments expected for calling `deposit`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                contractParams</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        name</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;_msg&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        type</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;bytes&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        value</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Depositing </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">amount</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> BTC</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">]</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token comment" style="color:#6b7282">// Show the gateway address to the user so that they can transfer their BTC to it.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Deposit </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">amount</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> BTC to </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">mint</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">.</span><span class="token template-string interpolation property-access">gatewayAddress</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        mint</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;deposit&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">deposit</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token comment" style="color:#6b7282">// Details of the deposit are available from `deposit.depositDetails`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> hash </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> deposit</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">txHash</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#bf616a">depositLog</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">BTC deposit: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation maybe-class-name">Bitcoin</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">.</span><span class="token template-string interpolation property-access">utils</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">.</span><span class="token template-string interpolation method function property-access" style="color:#bf616a">transactionExplorerLink</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">(</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token template-string interpolation">                        deposit</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">.</span><span class="token template-string interpolation property-access">depositDetails</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">.</span><span class="token template-string interpolation property-access">transaction</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">,</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token template-string interpolation">                        </span><span class="token template-string interpolation string" style="color:#88c0d0">&quot;testnet&quot;</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token template-string interpolation">                    </span><span class="token template-string interpolation punctuation" style="color:#88c0d0">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">\n</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token template-string string" style="color:#88c0d0">          RenVM Hash: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">hash</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">\n</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token template-string string" style="color:#88c0d0">          Status: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">deposit</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">.</span><span class="token template-string interpolation property-access">status</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">\n</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token template-string string" style="color:#88c0d0">          </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">msg</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> deposit</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">confirmed</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;target&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token function" style="color:#bf616a">depositLog</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">0/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">target</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> confirmations</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;confirmation&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">confs</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> target</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token function" style="color:#bf616a">depositLog</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">confs</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">target</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> confirmations</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> deposit</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">signed</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token comment" style="color:#6b7282">// Print RenVM status - &quot;pending&quot;, &quot;confirming&quot; or &quot;done&quot;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;status&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#bf616a">depositLog</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Status: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">status</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> deposit</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">mint</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token comment" style="color:#6b7282">// Print Ethereum transaction hash.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;transactionHash&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">txHash</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token function" style="color:#bf616a">depositLog</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Mint tx: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">txHash</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Deposited </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">amount</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> BTC.</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token function-variable function" style="color:#bf616a">withdraw</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">logError</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;&quot;</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"> </span><span class="token comment" style="color:#6b7282">// Reset error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"> web3</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> renJS</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> balance </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"> </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> recipient </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token function" style="color:#bf616a">prompt</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;Enter BTC recipient:&quot;</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> amount </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> balance</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">const</span><span class="token plain"> burnAndRelease </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> renJS</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">burnAndRelease</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token comment" style="color:#6b7282">// Send BTC from Ethereum back to the Bitcoin blockchain.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            asset</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;BTC&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            to</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#bf616a">Bitcoin</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access maybe-class-name" style="color:#bf616a">Address</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">recipient</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#bf616a">Ethereum</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">web3</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">currentProvider</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access maybe-class-name" style="color:#bf616a">Contract</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">btcAddress</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                sendTo</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> contractAddress</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                contractFn</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;withdraw&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                contractParams</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        type</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;bytes&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        name</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;_msg&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        value</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token keyword module" style="color:#ebcb8b">from</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Withdrawing </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">amount</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> BTC</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        type</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;bytes&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        name</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;_to&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        value</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> btcAddress</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        type</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;uint256&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        name</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;_amount&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                        value</span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token maybe-class-name">RenJS</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token property-access">utils</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">toSmallestUnit</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">amount</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">8</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">]</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">let</span><span class="token plain"> confirmations </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> </span><span class="token number" style="color:#b48ead">0</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> burnAndRelease</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">burn</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token comment" style="color:#6b7282">// Ethereum transaction confirmations.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;confirmation&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">confs</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                confirmations </span><span class="token operator" style="color:#bf616a">=</span><span class="token plain"> confs</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token comment" style="color:#6b7282">// Print Ethereum transaction hash.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;transactionHash&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">txHash</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Ethereum transaction: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation known-class-name class-name" style="color:#bf616a">String</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">(</span><span class="token template-string interpolation">txHash</span><span class="token template-string interpolation punctuation" style="color:#88c0d0">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">\nSubmitting...</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#ebcb8b">await</span><span class="token plain"> burnAndRelease</span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">release</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token comment" style="color:#6b7282">// Print RenVM status - &quot;pending&quot;, &quot;confirming&quot; or &quot;done&quot;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;status&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                status </span><span class="token operator" style="color:#bf616a">===</span><span class="token plain"> </span><span class="token string" style="color:#88c0d0">&quot;confirming&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token operator" style="color:#bf616a">?</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">status</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> (</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">confirmations</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">/15)</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">                    </span><span class="token operator" style="color:#bf616a">:</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">status</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token comment" style="color:#6b7282">// Print RenVM transaction hash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">            </span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">on</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token string" style="color:#88c0d0">&quot;txHash&quot;</span><span class="token punctuation" style="color:#88c0d0">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token plain">hash</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#bf616a">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">RenVM hash: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">hash</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">        </span><span class="token keyword" style="color:#ebcb8b">this</span><span class="token punctuation" style="color:#88c0d0">.</span><span class="token method function property-access" style="color:#bf616a">log</span><span class="token punctuation" style="color:#88c0d0">(</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token template-string string" style="color:#88c0d0">Withdrew </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">amount</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0"> BTC to </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">${</span><span class="token template-string interpolation">recipient</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#88c0d0">}</span><span class="token template-string string" style="color:#88c0d0">.</span><span class="token template-string template-punctuation string" style="color:#88c0d0">`</span><span class="token punctuation" style="color:#88c0d0">)</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain">    </span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token punctuation" style="color:#88c0d0">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token punctuation" style="color:#88c0d0">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d7dde8"><span class="token plain"></span><span class="token keyword module" style="color:#ebcb8b">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#ebcb8b">default</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><span class="token punctuation" style="color:#88c0d0">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="testing-it">Testing it<a class="hash-link" href="#testing-it" title="Direct link to heading">â€‹</a></h3><p>If you click &quot;Deposit 0.003 BTC&quot;, it should show you a Bitcoin address:</p><p><img alt="An example of our new multi-blockchain dApp" src="/ren-client-docs/assets/images/tutorial-deposit-28ce97ebee618561b78b457bc8baaa68.png"></p><p>If you don&#x27;t already have Testnet BTC, you&#x27;ll need to go to a Bitcoin Testnet faucet (we recommend <a href="https://testnet-faucet.mempool.co" target="_blank" rel="noopener noreferrer">https://testnet-faucet.mempool.co</a>).</p><p>Send <code>0.003</code> BTC to the Bitcoin gateway address to continue. RenJS will wait for two confirmations before continuing, which may take around 15-20 minutes.</p><p>After completing all the steps, you should see the balance increase by <code>0.003</code> BTC, minus fees (currently a <code>0.001</code> BTC transfer fee and <code>0.25%</code> RenVM fee).</p><p><img alt="After depositing some BTC into our Ethereum contract" src="/ren-client-docs/assets/images/tutorial-balance-0b361cba8b503205142db0769203c839.png"></p><p>Test withdrawing as well. If you don&#x27;t have a Testnet BTC address to give it, the faucet lists a return address you can use. You should see the balance go back to <code>0</code> and the Bitcoin address you entered receive the BTC (again, some transfer fees will be deducted).</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>You can find the site deployed here as well: <a href="https://renproject.github.io/renjs-tutorial" target="_blank" rel="noopener noreferrer">https://renproject.github.io/renjs-tutorial</a></p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>You can visit the <a href="/ren-client-docs/blog">Blog</a> to find more tutorials or examples.</p></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>The above tutorial includes basic usage of RenJS. If you are building a production site, continue to the next sections, including <a href="/ren-client-docs/ren-js/how-to/resuming-transfers">Resuming transfers</a> and <a href="/ren-client-docs/ren-js/best-practices/ui-best-practices">RenVM UX Best Practice</a>.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/renproject/ren-client-docs/edit/master/ren-js/v2/tutorial/3-ren-js.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/ren-client-docs/ren-js/tutorial/react-ui"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">2. React UI</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/ren-client-docs/ren-js/things-to-note"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Things to note</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installing-and-initializing-renjs" class="table-of-contents__link toc-highlight">Installing and Initializing RenJS</a></li><li><a href="#bridging-btc-onto-ethereum" class="table-of-contents__link toc-highlight">Bridging BTC onto Ethereum</a></li><li><a href="#bridging-btc-back-from-ethereum" class="table-of-contents__link toc-highlight">Bridging BTC back from Ethereum</a></li><li><a href="#complete-appjs" class="table-of-contents__link toc-highlight">Complete App.js</a></li><li><a href="#testing-it" class="table-of-contents__link toc-highlight">Testing it</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">RenVM</div><ul class="footer__items"><li class="footer__item"><a href="https://renproject.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>renproject.io<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://mainnet.renproject.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Command Center<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://explorer.renproject.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Explorer<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://t.me/renproject" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/renproject" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/ren-client-docs/assets/js/runtime~main.7076c633.js"></script>
<script src="/ren-client-docs/assets/js/main.26a0c57c.js"></script>
</body>
</html>